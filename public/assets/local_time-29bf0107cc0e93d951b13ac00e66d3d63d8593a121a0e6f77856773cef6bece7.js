(function(){var t,e,r,n,a,i,u,o,s,c,d,l,h,m,y,f,p,v;r=function(){return document.querySelectorAll&&document.addEventListener},r()&&(isNaN(Date.parse("2011-01-01T12:00:00-05:00"))&&(o=Date.parse,a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,Date.parse=function(t){var e,r,n,i,u,s,c,d,l,h;return t=t.toString(),(i=t.match(a))&&(e=i[0],l=i[1],s=i[2],r=i[3],n=i[4],u=i[5],d=i[6],h=i[7],"Z"!==h&&(c=h.replace(":","")),t=l+"/"+s+"/"+r+" "+n+":"+u+":"+d+" GMT"+[c]),o(t)}),v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),i="January February March April May June July August September October November December".split(" "),u=function(t){return("0"+t).slice(-2)},s=function(t){var e,r,n,a,i;return i=t.toString(),(e=null!=(r=i.match(/\(([\w\s]+)\)$/))?r[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(n=i.match(/(\w{3,4})\s\d{4}$/))?n[1]:void 0)?e:(e=null!=(a=i.match(/(UTC[\+\-]\d+)/))?a[1]:void 0)?e:""},f=function(t,e){var r,n,a,o,c,d,l;return n=t.getDay(),r=t.getDate(),c=t.getMonth(),l=t.getFullYear(),a=t.getHours(),o=t.getMinutes(),d=t.getSeconds(),e.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(e){var h,m;switch(h=e[0],m=e[1]){case"%":return"%";case"a":return v[n].slice(0,3);case"A":return v[n];case"b":return i[c].slice(0,3);case"B":return i[c];case"c":return t.toString();case"d":return u(r);case"e":return r;case"H":return u(a);case"I":return u(f(t,"%l"));case"l":return 0===a||12===a?12:(a+12)%12;case"m":return u(c+1);case"M":return u(o);case"p":return a>11?"PM":"AM";case"P":return a>11?"pm":"am";case"S":return u(d);case"w":return n;case"y":return u(l%100);case"Y":return l;case"Z":return s(t)}})},t=function(){function t(t,e,r){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(r),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){return t?(this.date-t.date)/864e5:void 0},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}(),e=function(){function e(e){this.date=e,this.calendarDate=t.fromDate(this.date)}return e.prototype.toString=function(){var t,e;return(t=this.timeElapsed())?t+" ago":(e=this.relativeWeekday())?e+" at "+this.formatTime():"on "+this.formatDate()},e.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.formatTime():this.formatDate()},e.prototype.timeElapsed=function(){var t,e,r,n;return r=(new Date).getTime()-this.date.getTime(),n=Math.round(r/1e3),e=Math.round(n/60),t=Math.round(e/60),0>r?null:10>n?"a second":45>n?n+" seconds":90>n?"a minute":45>e?e+" minutes":90>e?"an hour":24>t?t+" hours":null},e.prototype.relativeWeekday=function(){switch(this.calendarDate.daysPassed()){case 0:return"today";case 1:return"yesterday";case 2:case 3:case 4:case 5:case 6:return f(this.date,"%A")}},e.prototype.formatDate=function(){var t;return t="%b %e",this.calendarDate.occursThisYear()||(t+=", %Y"),f(this.date,t)},e.prototype.formatTime=function(){return f(this.date,"%l:%M%P")},e}(),d=function(t){return new e(t).formatDate()},l=function(t){return new e(t).toString()},h=function(t){return new e(t).toTimeOrDateString()},m=function(t){var r;return(r=new e(t).relativeWeekday())?r.charAt(0).toUpperCase()+r.substring(1):void 0},n=!1,p=function(t){return n&&t(),document.addEventListener("time:elapse",t),("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?document.addEventListener("page:update",t):"function"==typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,r){return jQuery.trim(r.responseText)?t():void 0}):void 0},c=function(t,e){return p(function(){var r,n,a,i,u;for(i=document.querySelectorAll(t),u=[],n=0,a=i.length;a>n;n++)r=i[n],u.push(e(r));return u})},document.addEventListener("DOMContentLoaded",function(){var t;return n=!0,t="textContent"in document.body?"textContent":"innerText",c("time[data-local]:not([data-localized])",function(e){var r,n,a,i;return r=e.getAttribute("datetime"),n=e.getAttribute("data-format"),a=e.getAttribute("data-local"),i=new Date(Date.parse(r)),isNaN(i)?void 0:(e.hasAttribute("title")||e.setAttribute("title",f(i,"%B %e, %Y at %l:%M%P %Z")),e[t]=function(){var t,r;switch(a){case"date":return e.setAttribute("data-localized",!0),d(i);case"time":return e.setAttribute("data-localized",!0),f(i,n);case"time-ago":return l(i);case"time-or-date":return h(i);case"weekday":return null!=(t=m(i))?t:"";case"weekday-or-date":return null!=(r=m(i))?r:d(i)}}())})}),y=function(){var t;return t=document.createEvent("Events"),t.initEvent("time:elapse",!0,!0),document.dispatchEvent(t)},setInterval(y,6e4),this.LocalTime={relativeDate:d,relativeTimeAgo:l,relativeTimeOrDate:h,relativeWeekday:m,run:y,strftime:f})}).call(this);