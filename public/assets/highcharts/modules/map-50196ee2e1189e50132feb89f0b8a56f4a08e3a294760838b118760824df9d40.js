!function(t){function i(t,i,e,a,o,n,s,r,l){var h=t["stroke-width"]%2/2;return i-=h,e-=h,["M",i+n,e,"L",i+a-s,e,"C",i+a-s/2,e,i+a,e+s/2,i+a,e+s,"L",i+a,e+o-r,"C",i+a,e+o-r/2,i+a-r/2,e+o,i+a-r,e+o,"L",i+l,e+o,"C",i+l/2,e+o,i,e+o-l/2,i,e+o-l,"L",i,e+n,"C",i,e+n/2,i+n/2,e,i+n,e,"Z"]}var e,a=t.Axis,o=t.Chart,n=t.Color,s=t.Point,r=t.Pointer,l=t.Legend,h=t.LegendSymbolMixin,p=t.Renderer,c=t.Series,d=t.SVGRenderer,m=t.VMLRenderer,u=t.addEvent,g=t.each,x=t.extend,f=t.extendClass,y=t.merge,b=t.pick,v=t.numberFormat,A=t.getOptions(),M=t.seriesTypes,w=A.plotOptions,C=t.wrap,L=function(){};C(a.prototype,"getSeriesExtremes",function(t){var i,e,a,o=this.isXAxis,n=[];o&&g(this.series,function(t,i){t.useMapGeometry&&(n[i]=t.xData,t.xData=[])}),t.call(this),o&&(i=b(this.dataMin,Number.MAX_VALUE),e=b(this.dataMax,Number.MIN_VALUE),g(this.series,function(t,o){t.useMapGeometry&&(i=Math.min(i,b(t.minX,i)),e=Math.max(e,b(t.maxX,i)),t.xData=n[o],a=!0)}),a&&(this.dataMin=i,this.dataMax=e))}),C(a.prototype,"setAxisTranslation",function(t){var i,a,o,n,s,r=this.chart,l=r.plotWidth/r.plotHeight,h=r.xAxis[0];t.call(this),r.options.chart.preserveAspectRatio&&"yAxis"===this.coll&&h.transA!==e&&(this.transA=h.transA=Math.min(this.transA,h.transA),i=l/((h.max-h.min)/(this.max-this.min)),o=1>i?this:h,a=(o.max-o.min)*o.transA,o.pixelPadding=o.len-a,o.minPixelPadding=o.pixelPadding/2,n=o.fixTo,n&&(s=n[1]-o.toValue(n[0],!0),s*=o.transA,(Math.abs(s)>o.minPixelPadding||o.min===o.dataMin&&o.max===o.dataMax)&&(s=0),o.minPixelPadding-=s))}),C(a.prototype,"render",function(t){t.call(this),this.fixTo=null});var k=t.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};x(k.prototype,a.prototype),x(k.prototype,{defaultColorAxisOptions:{lineWidth:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,i){var e,o="vertical"!==t.options.legend.layout;e=y(this.defaultColorAxisOptions,{side:o?2:1,reversed:!o},i,{isX:o,opposite:!o,showEmpty:!1,title:null,isColor:!0}),a.prototype.init.call(this,t,e),i.dataClasses&&this.initDataClasses(i),this.initStops(i),this.isXAxis=!0,this.horiz=o,this.zoomEnabled=!1},tweenColors:function(t,i,e){var a=1!==i.rgba[3]||1!==t.rgba[3];return(a?"rgba(":"rgb(")+Math.round(i.rgba[0]+(t.rgba[0]-i.rgba[0])*(1-e))+","+Math.round(i.rgba[1]+(t.rgba[1]-i.rgba[1])*(1-e))+","+Math.round(i.rgba[2]+(t.rgba[2]-i.rgba[2])*(1-e))+(a?","+(i.rgba[3]+(t.rgba[3]-i.rgba[3])*(1-e)):"")+")"},initDataClasses:function(t){var i,e=this,a=this.chart,o=0,s=this.options,r=t.dataClasses.length;this.dataClasses=i=[],this.legendItems=[],g(t.dataClasses,function(t,l){var h;t=y(t),i.push(t),t.color||("category"===s.dataClassColor?(h=a.options.colors,t.color=h[o++],o===h.length&&(o=0)):t.color=e.tweenColors(n(s.minColor),n(s.maxColor),2>r?.5:l/(r-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],g(this.stops,function(t){t.color=n(t[1])})},setOptions:function(t){a.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,i,e,a,o=this.legendSymbol,n=this.chart;o&&(this.left=t=o.attr("x"),this.top=i=o.attr("y"),this.width=e=o.attr("width"),this.height=a=o.attr("height"),this.right=n.chartWidth-t-e,this.bottom=n.chartHeight-i-a,this.len=this.horiz?e:a,this.pos=this.horiz?t:i)},toColor:function(t,i){var a,o,n,s,r,l,h=this.stops,p=this.dataClasses;if(p){for(l=p.length;l--;)if(r=p[l],o=r.from,n=r.to,(o===e||t>=o)&&(n===e||n>=t)){s=r.color,i&&(i.dataClass=l);break}}else{for(this.isLog&&(t=this.val2lin(t)),a=1-(this.max-t)/(this.max-this.min||1),l=h.length;l--&&!(a>h[l][0]););o=h[l]||h[l+1],n=h[l+1]||o,a=1-(n[0]-a)/(n[0]-o[0]||1),s=this.tweenColors(o.color,n.color,a)}return s},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(a.prototype.getOffset.call(this),this.axisGroup.parentGroup||(this.axisGroup.add(t),this.gridGroup.add(t),this.labelGroup.add(t),this.added=!0),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t,i=this.horiz,e=this.options;t=i?[0,0,1,0]:[0,0,0,1],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:e.stops||[[0,e.minColor],[1,e.maxColor]]}},drawLegendSymbol:function(t,i){var e,a=t.padding,o=t.options,n=this.horiz,s=b(o.symbolWidth,n?200:12),r=b(o.symbolHeight,n?12:200),l=b(o.labelPadding,n?16:30),h=b(o.itemDistance,10);this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,r).attr({zIndex:1}).add(i.legendGroup),e=i.legendSymbol.getBBox(),this.legendItemWidth=s+a+(n?h:l),this.legendItemHeight=r+a+(n?l:0)},setState:L,visible:!0,setVisible:L,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,i){var e,o=!this.cross,n=i&&i.plotX,s=i&&i.plotY,r=this.pos,l=this.len;i&&(e=this.toPixels(i.value),r>e?e=r-2:e>r+l&&(e=r+l+2),i.plotX=e,i.plotY=this.len-e,a.prototype.drawCrosshair.call(this,t,i),i.plotX=n,i.plotY=s,!o&&this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.labelGroup))},getPlotLinePath:function(t,i,e,o,n){return n?this.horiz?["M",n-4,this.top-6,"L",n+4,this.top-6,n,this.top,"Z"]:["M",this.left,n,"L",this.left-6,n+6,this.left-6,n-6,"Z"]:a.prototype.getPlotLinePath.call(this,t,i,e,o)},update:function(t,i){g(this.series,function(t){t.isDirtyData=!0}),a.prototype.update.call(this,t,i),this.legendItem&&(this.setLegendColor(),this.chart.legend.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var t,i=this,a=this.chart,o=this.legendItems,n=a.options.legend,s=n.valueDecimals,r=n.valueSuffix||"";return o.length||g(this.dataClasses,function(n,l){var p=!0,c=n.from,d=n.to;t="",c===e?t="< ":d===e&&(t="> "),c!==e&&(t+=v(c,s)+r),c!==e&&d!==e&&(t+=" - "),d!==e&&(t+=v(d,s)+r),o.push(x({chart:a,name:t,options:{},drawLegendSymbol:h.drawRectangle,visible:!0,setState:L,setVisible:function(){p=this.visible=!p,g(i.series,function(t){g(t.points,function(t){t.dataClass===l&&t.setVisible(p)})}),a.legend.colorizeItem(this,p)}},n))}),o},name:""}),g(["fill","stroke"],function(t){HighchartsAdapter.addAnimSetter(t,function(i){i.elem.attr(t,k.prototype.tweenColors(n(i.start),n(i.end),i.pos))})}),C(o.prototype,"getAxes",function(t){var i=this.options,e=i.colorAxis;t.call(this),this.colorAxis=[],e&&(t=new k(this,e))}),C(l.prototype,"getAllItems",function(t){var i=[],e=this.chart.colorAxis[0];return e&&(e.options.dataClasses?i=i.concat(e.getDataClassLegendSymbols()):i.push(e),g(e.series,function(t){t.options.showInLegend=!1})),i.concat(t.call(this))});var X={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:L,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,i=this.options.nullColor,e=this.colorAxis,a=this.colorKey;g(this.data,function(o){var n,s=o[a];n=null===s?i:e&&void 0!==s?e.toColor(s,o):o.color||t.color,n&&(o.color=n)})}};C(d.prototype,"buildText",function(t,i){var e=i.styles&&i.styles.HcTextStroke;t.call(this,i),e&&i.applyTextStroke&&i.applyTextStroke(e)}),d.prototype.Element.prototype.applyTextStroke=function(t){var i,e,a=this.element;t=t.split(" "),i=a.getElementsByTagName("tspan"),e=a.firstChild,this.ySetter=this.xSetter,g([].slice.call(i),function(i,o){var n;0===o&&(i.setAttribute("x",a.getAttribute("x")),null!==(o=a.getAttribute("y"))&&i.setAttribute("y",o)),n=i.cloneNode(1),n.setAttribute("stroke",t[1]),n.setAttribute("stroke-width",t[0]),n.setAttribute("stroke-linejoin","round"),a.insertBefore(n,e)})},x(o.prototype,{renderMapNavigation:function(){var t,i,e,a,o,n=this,s=this.options.mapNavigation,r=s.buttons,l=function(){this.handler.call(n)};if(b(s.enableButtons,s.enabled)&&!n.renderer.forExport)for(t in r)r.hasOwnProperty(t)&&(e=y(s.buttonOptions,r[t]),a=e.theme,o=a.states,i=n.renderer.button(e.text,0,0,l,a,o&&o.hover,o&&o.select,0,"zoomIn"===t?"topbutton":"bottombutton").attr({width:e.width,height:e.height,title:n.options.lang[t],zIndex:5}).css(e.style).add(),i.handler=e.onclick,i.align(x(e,{width:i.width,height:2*i.height}),null,e.alignTo))},fitToBox:function(t,i){return g([["x","width"],["y","height"]],function(e){var a=e[0],o=e[1];t[a]+t[o]>i[a]+i[o]&&(t[o]>i[o]?(t[o]=i[o],t[a]=i[a]):t[a]=i[a]+i[o]-t[o]),t[o]>i[o]&&(t[o]=i[o]),t[a]<i[a]&&(t[a]=i[a])}),t},mapZoom:function(t,i,e,a,o){var n=this,s=n.xAxis[0],r=s.max-s.min,l=b(i,s.min+r/2),h=r*t,p=n.yAxis[0],c=p.max-p.min,d=b(e,p.min+c/2),m=c*t,u=a?(a-s.pos)/s.len:.5,g=o?(o-p.pos)/p.len:.5,x=l-h*u,f=d-m*g,y=n.fitToBox({x:x,y:f,width:h,height:m},{x:s.dataMin,y:p.dataMin,width:s.dataMax-s.dataMin,height:p.dataMax-p.dataMin});a&&(s.fixTo=[a-s.pos,i]),o&&(p.fixTo=[o-p.pos,e]),void 0!==t?(s.setExtremes(y.x,y.x+y.width,!1),p.setExtremes(y.y,y.y+y.height,!1)):(s.setExtremes(void 0,void 0,!1),p.setExtremes(void 0,void 0,!1)),n.redraw()}}),C(o.prototype,"render",function(t){var i=this,e=i.options.mapNavigation;i.renderMapNavigation(),t.call(i),(b(e.enableDoubleClickZoom,e.enabled)||e.enableDoubleClickZoomTo)&&u(i.container,"dblclick",function(t){i.pointer.onContainerDblClick(t)}),b(e.enableMouseWheelZoom,e.enabled)&&u(i.container,void 0===document.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return i.pointer.onContainerMouseWheel(t),!1})}),x(r.prototype,{onContainerDblClick:function(t){var i=this.chart;t=this.normalize(t),i.options.mapNavigation.enableDoubleClickZoomTo?i.pointer.inClass(t.target,"highcharts-tracker")&&i.hoverPoint.zoomTo():i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&i.mapZoom(.5,i.xAxis[0].toValue(t.chartX),i.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var i,e=this.chart;t=this.normalize(t),i=t.detail||-(t.wheelDelta/120),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(Math.pow(2,i),e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),C(r.prototype,"init",function(t,i,e){t.call(this,i,e),b(e.mapNavigation.enableTouchZoom,e.mapNavigation.enabled)&&(this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=!0)}),C(r.prototype,"pinchTranslate",function(t,i,e,a,o,n,s){var r;t.call(this,i,e,a,o,n,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(r=a.scaleX>a.scaleY,this.pinchTranslateDirection(!r,i,e,a,o,n,s,r?a.scaleX:a.scaleY))}),w.map=y(w.scatter,{allAreas:!0,animation:!1,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:!1,dataLabels:{formatter:function(){return this.point.value},verticalAlign:"middle",crop:!1,overflow:!1,padding:0,style:{color:"white",fontWeight:"bold",HcTextStroke:"3px rgba(0,0,0,0.5)"}},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null}}});var T=f(s,{applyOptions:function(t,i){var e,a=s.prototype.applyOptions.call(this,t,i),o=this.series,n=o.joinBy;return o.mapData&&(e=void 0!==a[n[1]]&&o.mapMap[a[n[1]]],e?(o.xyFromShape&&(a.x=e._midX,a.y=e._midY),x(a,e)):a.value=a.value||null),a},setVisible:function(t){var i=this,e=t?"show":"hide";g(["graphic","dataLabel"],function(t){i[t]&&i[t][e]()})},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value&&s.prototype.onMouseOver.call(this,t)},onMouseOut:function(){var t,i=this,e=+new Date,a=n(i.color),o=n(i.pointAttr.hover.fill),r=i.series.options.states.normal.animation,l=r&&(r.duration||500);l&&4===a.rgba.length&&4===o.rgba.length&&"select"!==i.state&&(t=i.pointAttr[""].fill,delete i.pointAttr[""].fill,clearTimeout(i.colorInterval),i.colorInterval=setInterval(function(){var t=(new Date-e)/l,n=i.graphic;t>1&&(t=1),n&&n.attr("fill",k.prototype.tweenColors.call(0,o,a,t)),t>=1&&clearTimeout(i.colorInterval)},13)),s.prototype.onMouseOut.call(i),t&&(i.pointAttr[""].fill=t)},zoomTo:function(){var t=this,i=t.series;i.xAxis.setExtremes(t._minX,t._maxX,!1),i.yAxis.setExtremes(t._minY,t._maxY,!1),i.chart.redraw()}});M.map=f(M.scatter,y(X,{type:"map",pointClass:T,supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,getBox:function(i){var e,a=Number.MAX_VALUE,o=-a,n=a,s=-a,r=a,l=a,h=this.xAxis,p=this.yAxis;g(i||[],function(i){if(i.path){"string"==typeof i.path&&(i.path=t.splitPath(i.path));var h=i.path||[],p=h.length,c=!1,d=-a,m=a,u=-a,g=a,x=i.properties;if(!i._foundBox){for(;p--;)"number"!=typeof h[p]||isNaN(h[p])||(c?(d=Math.max(d,h[p]),m=Math.min(m,h[p])):(u=Math.max(u,h[p]),g=Math.min(g,h[p])),c=!c);i._midX=m+(d-m)*(i.middleX||x&&x["hc-middle-x"]||.5),i._midY=g+(u-g)*(i.middleY||x&&x["hc-middle-y"]||.5),i._maxX=d,i._minX=m,i._maxY=u,i._minY=g,i.labelrank=b(i.labelrank,(d-m)*(u-g)),i._foundBox=!0}o=Math.max(o,i._maxX),n=Math.min(n,i._minX),s=Math.max(s,i._maxY),r=Math.min(r,i._minY),l=Math.min(i._maxX-i._minX,i._maxY-i._minY,l),e=!0}}),e&&(this.minY=Math.min(r,b(this.minY,a)),this.maxY=Math.max(s,b(this.maxY,-a)),this.minX=Math.min(n,b(this.minX,a)),this.maxX=Math.max(o,b(this.maxX,-a)),h&&void 0===h.options.minRange&&(h.minRange=Math.min(5*l,(this.maxX-this.minX)/5,h.minRange||a)),p&&void 0===p.options.minRange&&(p.minRange=Math.min(5*l,(this.maxY-this.minY)/5,p.minRange||a)))},getExtremes:function(){c.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var i,e=this,a=!1,o=e.xAxis,n=e.yAxis,s=o.min,r=o.transA,l=o.minPixelPadding,h=n.min,p=n.transA,c=n.minPixelPadding,d=[];if(t)for(i=t.length;i--;)"number"==typeof t[i]?(d[i]=a?(t[i]-s)*r+l:(t[i]-h)*p+c,a=!a):d[i]=t[i];return d},setData:function(i,e){var a,o,n,s=this.options,r=s.mapData,l=s.joinBy,h=null===l,p=[];if(h&&(l="_i"),l=this.joinBy=t.splat(l),l[1]||(l[1]=l[0]),i&&g(i,function(t,e){"number"==typeof t&&(i[e]={value:t}),h&&(i[e]._i=e)}),this.getBox(i),r){for("FeatureCollection"===r.type&&(r=t.geojson(r,this.type,this)),this.getBox(r),this.mapData=r,this.mapMap={},n=0;n<r.length;n++)a=r[n],o=a.properties,a._i=n,l[0]&&o&&o[l[0]]&&(a[l[0]]=o[l[0]]),this.mapMap[a[l[0]]]=a;s.allAreas&&(i=i||[],l[1]&&g(i,function(t){p.push(t[l[1]])}),p="|"+p.join("|")+"|",g(r,function(t){l[0]&&-1!==p.indexOf("|"+t[l[0]]+"|")||i.push(y(t,{value:null}))}))}c.prototype.setData.call(this,i,e)},drawGraph:L,drawDataLabels:L,doFullTranslate:function(){return this.isDirtyData||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,i=t.xAxis,e=t.yAxis,a=t.doFullTranslate();t.generatePoints(),g(t.data,function(o){o.plotX=i.toPixels(o._midX,!0),o.plotY=e.toPixels(o._midY,!0),a&&(o.shapeType="path",o.shapeArgs={d:t.translatePath(o.path),"vector-effect":"non-scaling-stroke"})}),t.translateColors()},drawPoints:function(){var t,i,e,a,o=this,n=o.xAxis,s=o.yAxis,r=o.group,l=o.chart,h=l.renderer,p=this.baseTrans;o.transformGroup||(o.transformGroup=h.g().attr({scaleX:1,scaleY:1}).add(r)),o.doFullTranslate()?(l.hasRendered&&"color"===o.pointAttrToOptions.fill&&g(o.points,function(t){t.graphic&&t.graphic.attr("fill",t.color)}),o.group=o.transformGroup,M.column.prototype.drawPoints.apply(o),o.group=r,g(o.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(" ","-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:n.min-n.minPixelPadding/n.transA,originY:s.min-s.minPixelPadding/s.transA+(s.reversed?0:s.len/s.transA),transAX:n.transA,transAY:s.transA}):(t=n.transA/p.transAX,i=s.transA/p.transAY,t>.99&&1.01>t&&i>.99&&1.01>i?(e=0,a=0,t=1,i=1):(e=n.toPixels(p.originX,!0),a=s.toPixels(p.originY,!0)),this.transformGroup.animate({translateX:e,translateY:a,scaleX:t,scaleY:i})),this.drawMapDataLabels()},drawMapDataLabels:function(){c.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect),this.hideOverlappingDataLabels()},hideOverlappingDataLabels:function(){var t,i,e,a,o=this.points,n=o.length,s=function(t,i,e,a){return!(i.x>t.x+e.width||i.x+a.width<t.x||i.y>t.y+e.height||i.y+a.height<t.y)};for(g(o,function(t,i){i=t.dataLabel,i&&(i.oldOpacity=i.opacity,i.newOpacity=1)}),t=0;n-1>t;++t)for(e=o[t].dataLabel,i=t+1;n>i;++i)a=o[i].dataLabel,e&&a&&0!==e.newOpacity&&0!==a.newOpacity&&s(e.alignAttr,a.alignAttr,e,a)&&((o[t].labelrank<o[i].labelrank?e:a).newOpacity=0);g(o,function(t,i){i=t.dataLabel,i&&(i.oldOpacity!==i.newOpacity&&i[i.isOld?"animate":"attr"](x({opacity:i.newOpacity},i.alignAttr)),i.isOld=!0)})},render:function(){var t=this,i=c.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){i.call(t)}):i.call(t)},animate:function(t){var i=this.chart,e=this.options.animation,a=this.group,o=this.xAxis,n=this.yAxis,s=o.pos,r=n.pos;i.renderer.isSVG&&(e===!0&&(e={duration:1e3}),t?a.attr({translateX:s+o.len/2,translateY:r+n.len/2,scaleX:.001,scaleY:.001}):(a.animate({translateX:s,translateY:r,scaleX:1,scaleY:1},e),this.animate=null))},animateDrilldown:function(t){var i,e=this.chart.plotBox,a=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=a.bBox,n=this.chart.options.drilldown.animation;t||(i=Math.min(o.width/e.width,o.height/e.height),a.shapeArgs={scaleX:i,scaleY:i,translateX:o.x,translateY:o.y},g(this.points,function(t){t.graphic.attr(a.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},n)}),this.animate=null)},drawLegendSymbol:h.drawRectangle,animateDrillupFrom:function(t){M.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){M.column.prototype.animateDrillupTo.call(this,t)}})),w.mapline=y(w.map,{lineWidth:1,fillColor:"none"}),M.mapline=f(M.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:M.line.prototype.drawLegendSymbol}),w.mappoint=y(w.scatter,{dataLabels:{enabled:!0,formatter:function(){return this.point.name},color:"black",crop:!1,defer:!1,overflow:!1,style:{HcTextStroke:"3px rgba(255,255,255,0.5)"}}}),M.mappoint=f(M.scatter,{type:"mappoint",forceDL:!0}),M.bubble&&(w.mapbubble=y(w.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),M.mapbubble=f(M.bubble,{pointClass:f(s,{applyOptions:T.prototype.applyOptions}),xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:M.map.prototype.getMapData,getBox:M.map.prototype.getBox,setData:M.map.prototype.setData})),A.plotOptions.heatmap=y(A.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},verticalAlign:"middle",crop:!1,overflow:!1,style:{color:"white",fontWeight:"bold",HcTextStroke:"1px rgba(0,0,0,0.5)"}},marker:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2}}}),M.heatmap=f(M.scatter,y(X,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,init:function(){M.scatter.prototype.init.apply(this,arguments),this.pointRange=this.options.colsize||1,this.yAxis.axisPointRange=this.options.rowsize||1},translate:function(){var t=this,i=t.options,e=t.xAxis,a=t.yAxis;t.generatePoints(),g(t.points,function(t){var o=(i.colsize||1)/2,n=(i.rowsize||1)/2,s=Math.round(e.len-e.translate(t.x-o,0,1,0,1)),r=Math.round(e.len-e.translate(t.x+o,0,1,0,1)),l=Math.round(a.translate(t.y-n,0,1,0,1)),h=Math.round(a.translate(t.y+n,0,1,0,1));t.plotX=(s+r)/2,t.plotY=(l+h)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(s,r),y:Math.min(l,h),width:Math.abs(r-s),height:Math.abs(h-l)}}),t.translateColors(),this.chart.hasRendered&&g(t.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:M.column.prototype.drawPoints,animate:L,getBox:L,drawLegendSymbol:h.drawRectangle,getExtremes:function(){c.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,c.prototype.getExtremes.call(this)}})),t.geojson=function(t,i,e){var a=[],o=[],n=function(t){var i=0,e=t.length;for(o.push("M");e>i;i++)1===i&&o.push("L"),o.push(t[i][0],-t[i][1])};return i=i||"map",g(t.features,function(t){var e,s=t.geometry,r=s.type,l=s.coordinates,h=t.properties;o=[],"map"===i||"mapbubble"===i?("Polygon"===r?(g(l,n),o.push("Z")):"MultiPolygon"===r&&(g(l,function(t){g(t,n)}),o.push("Z")),o.length&&(e={path:o})):"mapline"===i?("LineString"===r?n(l):"MultiLineString"===r&&g(l,n),o.length&&(e={path:o})):"mappoint"===i&&"Point"===r&&(e={x:l[0],y:-l[1]}),e&&a.push(x(e,{name:h.name||h.NAME,properties:h}))}),e&&(e.chart.mapCredits='<a href="http://www.highcharts.com">Highcharts</a> \xa9 <a href="'+t.copyrightUrl+'">'+t.copyrightShort+"</a>"),a},C(o.prototype,"showCredits",function(t,i){A.credits.text===this.options.credits.text&&this.mapCredits&&(i.text=this.mapCredits,i.href=null),t.call(this,i)}),x(A.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),A.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}}},t.splitPath=function(t){var i;for(t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/),i=0;i<t.length;i++)/[a-zA-Z]/.test(t[i])||(t[i]=parseFloat(t[i]));return t},t.maps={},d.prototype.symbols.topbutton=function(t,e,a,o,n){return i(n,t,e,a,o,n.r,n.r,0,0)},d.prototype.symbols.bottombutton=function(t,e,a,o,n){return i(n,t,e,a,o,0,0,n.r,n.r)},p===m&&g(["topbutton","bottombutton"],function(t){m.prototype.symbols[t]=d.prototype.symbols[t]}),t.Map=function(t,i){var e,a={endOnTick:!1,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};return e=t.series,t.series=null,t=y({chart:{panning:"xy",type:"map"},xAxis:a,yAxis:y(a,{reversed:!0})},t,{chart:{inverted:!1,alignTicks:!1,preserveAspectRatio:!0}}),t.series=e,new o(t,i)}}(Highcharts);